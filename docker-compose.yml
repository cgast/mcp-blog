services:
  mcp-blog:
    build: .
    ports:
      - "${WEB_PORT:-3000}:3000"
      - "${MCP_PORT:-3001}:3001"
    volumes:
      - blog-posts:/data/posts
    environment:
      - BLOG_TITLE=${BLOG_TITLE:-MCP Blog}
      - BLOG_DESCRIPTION=${BLOG_DESCRIPTION:-A blog managed by AI via MCP}
      - BLOG_BASE_URL=${BLOG_BASE_URL:-http://localhost:3000}
      - MCP_API_TOKEN=${MCP_API_TOKEN:?Set MCP_API_TOKEN in .env}
      - POSTS_DIR=/data/posts
      - WEB_PORT=3000
      - MCP_PORT=3001
    restart: unless-stopped

volumes:
  blog-posts:
